CREATE TABLE customers (
	cstm_id SERIAL PRIMARY KEY,
	cstm_first_name varchar(50),
	cstm_last_name varchar(50)
);

CREATE TABLE addresses (
	address_id SERIAL PRIMARY KEY,
	address varchar(200) NOT NULL,
	city varchar(50) NOT NULL,
	state varchar(50) NOT NULL,
	zipcode varchar(20) NOT NULL,
	cstm_id int NOT NULL REFERENCES customers(cstm_id)
);

CREATE TABLE employees(
	empl_id SERIAL PRIMARY KEY,
	first_name varchar(50) NOT NULL,
	last_name varchar(50) NOT NULL,
	post varchar(10) NOT NULL,
	hourly_rate decimal(5,2) NOT NULL
);

CREATE TABLE products(
	prod_id SERIAL PRIMARY KEY,
	sku varchar(20) UNIQUE NOT NULL,
	prod_name varchar(50) NOT NULL,
	prod_category varchar(20) NOT NULL,
	prod_size varchar(10) NOT NULL,
	prod_price decimal(5,2) NOT NULL
);

CREATE TABLE shifts(
	shift_id SERIAL PRIMARY KEY,
	week_day varchar(10) NOT NULL,
	start_time time NOT NULL,
	end_time time NOT NULL	
);

CREATE TABLE schedule(
	row_id SERIAL PRIMARY KEY,
	schedule_id varchar(10) NOT NULL,
	dates date NOT NULL,
	empl_id int NOT NULL REFERENCES employees(empl_id),
	shift_id int NOT NULL REFERENCES shifts(shift_id)
);


CREATE TABLE ingredients(
	ing_id SERIAL PRIMARY KEY,
	ing_name varchar(50) NOT NULL,
	ing_quantity int NOT NULL,
	ing_measurement varchar(20) NOT NULL,
	ing_price decimal(10,2) NOT NULL
);

CREATE TABLE recipes(
	row_id SERIAL PRIMARY KEY,
	recipe_id varchar(20) NOT NULL REFERENCES products(sku),
	ing_id int NOT NULL REFERENCES ingredients(ing_id),
	recipe_quantity int NOT NULL
);

CREATE TABLE inventory(
	inv_id SERIAL PRIMARY KEY,
	item_id int NOT NULL REFERENCES ingredients(ing_id),
	quantity int NOT NULL
);

CREATE TABLE orders(
	row_id SERIAL PRIMARY KEY,
	order_id varchar(20) NOT NULL,
	prod_id int NOT NULL REFERENCES products(prod_id),
	quantity int NOT NULL,
	delivery boolean NOT NULL,
	created_at timestamp NOT NULL,
	cstm_id int NOT NULL REFERENCES customers(cstm_id),
	empl_id int NOT NULL REFERENCES employees(empl_id)
);

INSERT INTO customers(cstm_first_name, cstm_last_name) VALUES
('Ava', 'Smith'),
('Felix', 'Walker'),
('George', 'Lee'),
('Isabella', 'Allen'),
('Logan', 'Evans'),
('Patrick', 'Stuarts'),
('Ryan', 'Olsen'),
('Riley', 'Reed'),
('Terry', 'Sanders'),
('Thomas', 'Brooks'),
('Victor', 'Newman'),
('Zachary', 'Torres'),
('James', 'Watson'),
('Sasha', 'Flores'),
('Michael', 'Cruz'),
('Ryan', 'Hicks'),
('Alex', 'Mason'),
('Ellen', 'Warren'),
('Amelia', 'Grant'),
('Emily', 'Stone'),
('Wendy', 'Duncan'),
('Yvonne', 'Harper'),
('Sophia', 'Walton'),
('Olivia', 'Quinn'),
('Jennifer', 'Richards'),
('Sam', 'Norman'),
('Taylor', 'Mendez'),
('Wade', 'Jhonson'),
('Phoebe','Jefferson'),
('Sydney','Cain');
SELECT * FROM customers;

INSERT INTO employees(first_name, last_name, post, hourly_rate) VALUES 
('Peter', 'Hanson','Chef', 11.6),
('Michael', 'Douglas','Chef', 11.6),
('William', 'Peters','Delivery', 9.8),
('Victor', 'Blair','Delivery', 9.8),
('Daniel', 'Valdez','Chef', 11.6),
('Rebecca', 'Hampton','Chef', 11.6),
('Trevor', 'Leonard','Delivery', 9.8),
('Robert', 'Mullins','Delivery', 9.8);
SELECT * FROM employees;

INSERT INTO shifts(week_day,start_time,end_time)VALUES
('Monday','06:00:00','14:00:00'),	
('Monday','14:00:00','22:00:00'),
('Tuesday','06:00:00','14:00:00'),
('Tuesday','14:00:00','22:00:00'),
('Wednesday','06:00:00','14:00:00'),
('Wednesday','14:00:00','22:00:00'),
('Thursday','06:00:00','14:00:00'),
('Thursday','14:00:00','22:00:00'),
('Friday','06:00:00','14:00:00'),
('Friday','14:00:00','22:00:00'),
('Saturday','06:00:00','14:00:00'),
('Saturday','14:00:00','22:00:00');
SELECT * FROM shifts;

INSERT INTO schedule(schedule_id, dates, empl_id,shift_id)VALUES
('sch001','2024-08-01', 1, 7),
('sch001','2024-08-01', 2, 7),
('sch001','2024-08-01', 3, 7),
('sch001','2024-08-01', 4, 7),
('sch001','2024-08-01', 5, 8),
('sch001','2024-08-01', 6, 8),
('sch001','2024-08-01', 7, 8),
('sch001','2024-08-01', 8, 8),
('sch002','2024-08-02', 1, 9),
('sch002','2024-08-02', 2, 9),
('sch002','2024-08-02', 3, 9),
('sch002','2024-08-02', 4, 9),
('sch002','2024-08-02', 5, 10),
('sch002','2024-08-02', 6, 10),
('sch002','2024-08-02', 7, 10),
('sch002','2024-08-02', 8, 10),
('sch003','2024-08-03', 1, 11),
('sch003','2024-08-03', 2, 11),
('sch003','2024-08-03', 3, 11),
('sch003','2024-08-03', 4, 11),
('sch003','2024-08-03', 5, 12),
('sch003','2024-08-03', 6, 12),
('sch003','2024-08-03', 7, 12),
('sch003','2024-08-03', 8, 12),
('sch004','2024-08-05', 1, 1),
('sch004','2024-08-05', 2, 1),
('sch004','2024-08-05', 3, 1),
('sch004','2024-08-05', 4, 1),
('sch004','2024-08-05', 5, 2),
('sch004','2024-08-05', 6, 2),
('sch004','2024-08-05', 7, 2),
('sch004','2024-08-05', 8, 2),
('sch005','2024-08-06', 1, 3),
('sch005','2024-08-06', 2, 3),
('sch005','2024-08-06', 3, 3),
('sch005','2024-08-06', 4, 3),
('sch005','2024-08-06', 5, 4),
('sch005','2024-08-06', 6, 4),
('sch005','2024-08-06', 7, 4),
('sch005','2024-08-06', 8, 4),
('sch006','2024-08-07', 1, 5),
('sch006','2024-08-07', 2, 5),
('sch006','2024-08-07', 3, 5),
('sch006','2024-08-07', 4, 5),
('sch006','2024-08-07', 5, 6),
('sch006','2024-08-07', 6, 6),
('sch006','2024-08-07', 7, 6),
('sch006','2024-08-07', 8, 6),
('sch007','2024-08-08', 1, 7),
('sch007','2024-08-08', 2, 7),
('sch007','2024-08-08', 3, 7),
('sch007','2024-08-08', 4, 7),
('sch007','2024-08-08', 5, 8),
('sch007','2024-08-08', 6, 8),
('sch007','2024-08-08', 7, 8),
('sch007','2024-08-08', 8, 8),
('sch008','2024-08-09', 1, 9),
('sch008','2024-08-09', 2, 9),
('sch008','2024-08-09', 3, 9),
('sch008','2024-08-09', 4, 9),
('sch008','2024-08-09', 5, 10),
('sch008','2024-08-09', 6, 10),
('sch008','2024-08-09', 7, 10),
('sch008','2024-08-09', 8, 10),
('sch009','2024-08-10', 1, 11),
('sch009','2024-08-10', 2, 11),
('sch009','2024-08-10', 3, 11),
('sch009','2024-08-10', 4, 11),
('sch009','2024-08-10', 5, 12),
('sch009','2024-08-10', 6, 12),
('sch009','2024-08-10', 7, 12),
('sch009','2024-08-10', 8, 12),
('sch010','2024-08-12', 1, 1),
('sch010','2024-08-12', 2, 1),
('sch010','2024-08-12', 3, 1),
('sch010','2024-08-12', 4, 1),
('sch010','2024-08-12', 5, 2),
('sch010','2024-08-12', 6, 2),
('sch010','2024-08-12', 7, 2),
('sch010','2024-08-12', 8, 2),
('sch011','2024-08-13', 1, 3),
('sch011','2024-08-13', 2, 3),
('sch011','2024-08-13', 3, 3),
('sch011','2024-08-13', 4, 3),
('sch011','2024-08-13', 5, 4),
('sch011','2024-08-13', 6, 4),
('sch011','2024-08-13', 7, 4),
('sch011','2024-08-13', 8, 4),
('sch012','2024-08-14', 1, 5),
('sch012','2024-08-14', 2, 5),
('sch012','2024-08-14', 3, 5),
('sch012','2024-08-14', 4, 5),
('sch012','2024-08-14', 5, 6),
('sch012','2024-08-14', 6, 6),
('sch012','2024-08-14', 7, 6),
('sch012','2024-08-14', 8, 6),
('sch013','2024-08-15', 1, 7),
('sch013','2024-08-15', 2, 7),
('sch013','2024-08-15', 3, 7),
('sch013','2024-08-15', 4, 7),
('sch013','2024-08-15', 5, 8),
('sch013','2024-08-15', 6, 8),
('sch013','2024-08-15', 7, 8),
('sch013','2024-08-15', 8, 8);
SELECT * FROM schedule;
	
	INSERT INTO addresses(address, city, state, zipcode, cstm_id) VALUES 
('385 Blackwood Avenue','Longwood','Florida','32750',1),
('413 Corporate Square','Longwood','Florida','32750',2),
('241 East Street','Longwood','Florida','32750',3),
('312 Finch Court','Longwood','Florida','32750',4),
('315 Hamilton Avenue','Longwood','Florida','32750',5),
('142 Heather Avenue','Longwood','Florida','32750',6),
('396 High Street','Longwood','Florida','32750',7),
('201 N Griffin Dr','Casselberry','Florida','32707',8),
('105 Lake Ellen Dr','Casselberry','Florida','32707',9),
('416 Homer Avenue','Longwood','Florida','32750',10),
('135 Griggs Avenue','Casselberry','Florida','32707',11),
('358 Hunt Road','Longwood','Florida','32750',12),
('421 Lake Avenue','Longwood','Florida','32750',13),
('145 Heather Avenue','Longwood','Florida','32750',14),
('121 Oak Street','Longwood','Florida','32750',15),
('230 Dixon Road','Wekiwa Springs','Florida','32779',16),
('140 Heather Avenue','Longwood','Florida','32750',17),
('111 Golden Days Dr','Casselberry','Florida','32707',18),
('231 East Street','Longwood','Florida','32750',19),
('385 High Street','Longwood','Florida','32750',20),
('108 Palos Way','Longwood','Florida','32750',21),
('332 Hamilton Avenue','Longwood','Florida','32750',22),
('375 Douglas Avenue','Wekiwa Springs','Florida','32779',23),
('120 Pine Tree Dr','Casselberry','Florida','32707',24),
('250 Lake Brantley Road','Wekiwa Springs','Florida','32779',25),
('320 Hamilton Avenue','Longwood','Florida','32750',26),
('252 East Street','Longwood','Florida','32750',27),
('380 High Street','Longwood','Florida','32750',28),
('101 Golden Days Dr','Casselberry','Florida','32707',29),
('321 Forest Park Circle','Wekiwa Springs','Florida','32779',30);
SELECT * FROM addresses;

INSERT INTO products(sku, prod_name, prod_category, prod_size, prod_price) VALUES
('PIZ/MAR/R','Margherita','Pizza','Regular',10.99),
('PIZ/CAP/R','Capricciosa','Pizza','Regular',18.5),
('PIZ/QUA/STA/R','Quattro Stagioni','Pizza','Regular',18.99),
('PIZ/QUA/FOR/R','Quattro Formaggi','Pizza','Regular',13.5),
('PIZ/HAW/R','Hawaiian','Pizza','Regular',14.99),
('PIZ/PEP/R','Pepperoni','Pizza','Regular',13.99),
('PIZ/DIA/R','Diavola','Pizza','Regular',13.5),
('PIZ/ORT/R','Ortolana','Pizza','Regular',13.99),
('PIZ/CAL/R','Calzone','Pizza','Regular',16.99),
('PIZ/CAR/R','Carrettiera','Pizza','Regular',15.5),
('PIZ/MAR/L','Margherita','Pizza','Large',13.5),
('PIZ/CAP/L','Capricciosa','Pizza','Large',23.99),
('PIZ/QUA/STA/L','Quattro Stagioni','Pizza','Large',24.99),
('PIZ/QUA/FOR/L','Quattro Formaggi','Pizza','Large',17.5),
('PIZ/HAW/L','Hawaiian','Pizza','Large',18.99),
('PIZ/PEP/L','Pepperoni','Pizza','Large',17.5),
('PIZ/DIA/L','Diavola','Pizza','Large',19.5),
('PIZ/ORT/L','Ortolana','Pizza','Large',16.99),
('PIZ/CAL/L','Calzone','Pizza','Large',21.5),
('PIZ/CAR/L','Carrettiera','Pizza','Large',21.5),
('BEV/COL/330','Coca Cola','Beverage','330',2),
('BEV/PEP/330','Pepsi','Beverage','330',2),
('BEV/SPR/330','Sprite','Beverage','330',2),
('BEV/COL/LEM/330','Coca Cola Lemon','Beverage','330',2),
('BEV/PEP/TWI/330','Pepsi Twist','Beverage','330',2),
('BEV/DIE/330','Diet Coke','Beverage','330',2),
('BEV/PEP/MAX/330','Pepsi Max','Beverage','330',2),
('BEV/COL/500','Coca Cola','Beverage','500',3),
('BEV/PEP/500','Pepsi','Beverage','500',3),
('BEV/SPR/500','Sprite','Beverage','500',3),
('BEV/COL/LEM/500','Coca Cola Lemon','Beverage','500',3),
('BEV/PEP/TWI/500','Pepsi Twist','Beverage','500',3),
('BEV/DIE/500','Diet Coke','Beverage','500',3),
('BEV/PEP/MAX/500','Pepsi Max','Beverage','500',3);
SELECT * FROM products;

INSERT INTO ingredients(ing_name, ing_quantity, ing_measurement, ing_price) VALUES
('Pizza dough 4 pack medium',1200,'grams', 8.32),
('Pizza dough 4 pack large',1600,'grams', 12.54),
('Tomato sauce',1000,'milliliters', 4.52),
('Parmesan cheese',1000,'grams',24.43),
('Mozzarella cheese',1000,'grams',17.02),
('Basil leaves',200,'grams',5.5),
('Olives',1000,'grams',15.99),
('Mushrooms',1000,'grams',10.20),
('Ham',1000,'grams',27.32),
('Artichoke hearts',1000,'grams',28.49),
('Ricotta cheese',1000,'grams',17.49),
('Gorgonzola cheese',1000,'grams',31.99),
('Pineapple chunks',1000,'grams',10.35),
('Pepperoni',1000,'grams',24.99),
('Spicy salami',1000,'grams',37.5),
('Red chilli pepper',1000,'grams',18.25),
('Eggplant',1000,'grams',3.9),
('Zucchini',500,'grams',3.5),
('Red bell pepper',1000,'grams',11.35),
('Garlic',1000,'grams',19.75),
('Olive oil',3000,'milliliters',29.99),
('Coca Cola',330,'milliliters',2),
('Pepsi',330,'milliliters',2),
('Sprite',330,'milliliters',2),
('Coca Cola Lemon',330,'milliliters',2),
('Pepsi Twist',330,'milliliters',2),
('Diet Coke',330,'milliliters',2),
('Pepsi Max',330,'milliliters',2),
('Coca Cola',500,'milliliters',3),
('Pepsi',500,'milliliters',3),
('Sprite',500,'milliliters',3),
('Coca Cola Lemon',500,'milliliters',3),
('Pepsi Twist',500,'milliliters',3),
('Diet Coke',500,'milliliters',3),
('Pepsi Max',500,'milliliters',3);
SELECT * FROM ingredients;

	INSERT INTO recipes(recipe_id, ing_id, recipe_quantity) VALUES 
('PIZ/MAR/R',1,300),
('PIZ/MAR/R',3,200),
('PIZ/MAR/R',4,50),
('PIZ/MAR/R',5,150),
('PIZ/MAR/R',6,10),
('PIZ/MAR/R',21,15),
('PIZ/CAP/R',1,300),
('PIZ/CAP/R',3,200),
('PIZ/CAP/R',5,200),
('PIZ/CAP/R',9,100),
('PIZ/CAP/R',10,100),
('PIZ/CAP/R',8,100),
('PIZ/CAP/R',7,50),
('PIZ/CAP/R',4,50),
('PIZ/CAP/R',21,15),
('PIZ/QUA/STA/R',1,300),
('PIZ/QUA/STA/R',3,200),
('PIZ/QUA/STA/R',5,200),
('PIZ/QUA/STA/R',9,100),
('PIZ/QUA/STA/R',10,100),
('PIZ/QUA/STA/R',8,100),
('PIZ/QUA/STA/R',7,50),
('PIZ/QUA/STA/R',4,50),
('PIZ/QUA/STA/R',6,10),
('PIZ/QUA/STA/R',21,15),
('PIZ/QUA/FOR/R',1,300),
('PIZ/QUA/FOR/R',3,200),
('PIZ/QUA/FOR/R',5,150),
('PIZ/QUA/FOR/R',12,75),
('PIZ/QUA/FOR/R',4,50),
('PIZ/QUA/FOR/R',11,75),
('PIZ/QUA/FOR/R',21,15),
('PIZ/HAW/R',1,300),
('PIZ/HAW/R',3,200),
('PIZ/HAW/R',5,200),
('PIZ/HAW/R',9,100),
('PIZ/HAW/R',13,100),
('PIZ/HAW/R',4,50),
('PIZ/HAW/R',21,15),
('PIZ/PEP/R',1,300),
('PIZ/PEP/R',3,200),
('PIZ/PEP/R',5,200),
('PIZ/PEP/R',14,100),
('PIZ/PEP/R',4,50),
('PIZ/PEP/R',21,15),
('PIZ/DIA/R',1,300),
('PIZ/DIA/R',3,200),
('PIZ/DIA/R',5,200),
('PIZ/DIA/R',16,4),
('PIZ/DIA/R',4,50),
('PIZ/DIA/R',15,100),
('PIZ/DIA/R',21,15),
('PIZ/ORT/R',1,300),
('PIZ/ORT/R',3,200),
('PIZ/ORT/R',5,200),
('PIZ/ORT/R',18,100),
('PIZ/ORT/R',17,100),
('PIZ/ORT/R',19,100),
('PIZ/ORT/R',4,50),
('PIZ/ORT/R',21,15),
('PIZ/CAL/R',1,300),
('PIZ/CAL/R',3,200),
('PIZ/CAL/R',5,200),
('PIZ/CAL/R',11,100),
('PIZ/CAL/R',9,100),
('PIZ/CAL/R',8,100),
('PIZ/CAL/R',4,50),
('PIZ/CAL/R',21,15),
('PIZ/CAR/R',1,300),
('PIZ/CAR/R',3,200),
('PIZ/CAR/R',5,200),
('PIZ/CAR/R',15,100),
('PIZ/CAR/R',8,100),
('PIZ/CAR/R',20,15),
('PIZ/CAR/R',16,4),
('PIZ/CAR/R',4,50),
('PIZ/CAR/R',21,15),
('PIZ/MAR/L',2,400),
('PIZ/MAR/L',3,250),
('PIZ/MAR/L',4,75),
('PIZ/MAR/L',5,200),
('PIZ/MAR/L',6,15),
('PIZ/MAR/L',21,20),
('PIZ/CAP/L',2,400),
('PIZ/CAP/L',3,250),
('PIZ/CAP/L',5,250),
('PIZ/CAP/L',9,150),
('PIZ/CAP/L',10,150),
('PIZ/CAP/L',8,150),
('PIZ/CAP/L',7,75),
('PIZ/CAP/L',4,75),
('PIZ/CAP/L',21,20),
('PIZ/QUA/STA/L',2,400),
('PIZ/QUA/STA/L',3,250),
('PIZ/QUA/STA/L',5,250),
('PIZ/QUA/STA/L',9,150),
('PIZ/QUA/STA/L',10,150),
('PIZ/QUA/STA/L',8,150),
('PIZ/QUA/STA/L',7,75),
('PIZ/QUA/STA/L',4,75),
('PIZ/QUA/STA/L',6,15),
('PIZ/QUA/STA/L',21,20),
('PIZ/QUA/FOR/L',2,400),
('PIZ/QUA/FOR/L',3,250),
('PIZ/QUA/FOR/L',5,200),
('PIZ/QUA/FOR/L',12,100),
('PIZ/QUA/FOR/L',4,75),
('PIZ/QUA/FOR/L',11,100),
('PIZ/QUA/FOR/L',21,20),
('PIZ/HAW/L',2,400),
('PIZ/HAW/L',3,250),
('PIZ/HAW/L',5,250),
('PIZ/HAW/L',9,150),
('PIZ/HAW/L',13,150),
('PIZ/HAW/L',4,75),
('PIZ/HAW/L',21,20),
('PIZ/PEP/L',2,400),
('PIZ/PEP/L',3,250),
('PIZ/PEP/L',5,250),
('PIZ/PEP/L',14,150),
('PIZ/PEP/L',4,75),
('PIZ/PEP/L',21,20),
('PIZ/DIA/L',2,400),
('PIZ/DIA/L',3,250),
('PIZ/DIA/L',5,250),
('PIZ/DIA/L',16,6),
('PIZ/DIA/L',4,75),
('PIZ/DIA/L',15,150),
('PIZ/DIA/L',21,20),
('PIZ/ORT/L',2,400),
('PIZ/ORT/L',3,250),
('PIZ/ORT/L',5,250),
('PIZ/ORT/L',18,150),
('PIZ/ORT/L',17,150),
('PIZ/ORT/L',19,150),
('PIZ/ORT/L',4,75),
('PIZ/ORT/L',21,20),
('PIZ/CAL/L',2,400),
('PIZ/CAL/L',3,250),
('PIZ/CAL/L',5,250),
('PIZ/CAL/L',11,150),
('PIZ/CAL/L',9,150),
('PIZ/CAL/L',8,150),
('PIZ/CAL/L',4,75),
('PIZ/CAL/L',21,20),
('PIZ/CAR/L',2,400),
('PIZ/CAR/L',3,250),
('PIZ/CAR/L',5,250),
('PIZ/CAR/L',15,150),
('PIZ/CAR/L',8,150),
('PIZ/CAR/L',20,20),
('PIZ/CAR/L',16,6),
('PIZ/CAR/L',4,75),
('PIZ/CAR/L',21,20),
('BEV/COL/330',22,330),
('BEV/PEP/330',23,330),
('BEV/SPR/330',24,330),
('BEV/COL/LEM/330',25,330),
('BEV/PEP/TWI/330',26,330),
('BEV/DIE/330',27,330),
('BEV/PEP/MAX/330',28,330),
('BEV/COL/500',29,500),
('BEV/PEP/500',30,500),
('BEV/SPR/500',31,500),
('BEV/COL/LEM/500',32,500),
('BEV/PEP/TWI/500',33,500),
('BEV/DIE/500',34,500),
('BEV/PEP/MAX/500',35,500);
SELECT * FROM recipes;

INSERT INTO inventory(item_id, quantity) VALUES
(1,25),
(2,25),
(3,35),
(4,10),
(5,31),
(6,6),
(7,6),
(8,13),
(9,13),
(10,9),
(11,8),
(12,6),
(13,6),
(14,6),
(15,8),
(16,1),
(17,4),
(18,9),
(19,4),
(20,3),
(21,2),
(22,20),
(23,20),
(24,20),
(25,20),
(26,20),
(27,20),
(28,20),
(29,20),
(30,20),
(31,20),
(32,20),
(33,20),
(34,20),
(35,20);
SELECT * FROM inventory;
DROP TABLE orders;
	INSERT INTO orders(order_id, prod_id, quantity, delivery, created_at, cstm_id, empl_id) VALUES
('ORD001',3,2,'1','2024-08-01 08:32:25',1,3),
('ORD001',4,1,'1','2024-08-01 08:32:25',1,3),
('ORD001',22,3,'1','2024-08-01 08:32:25',1,3),
('ORD002',5,1,'1','2024-08-01 11:21:45',2,4),
('ORD002',21,1,'1','2024-08-01 11:21:45',2,4),
('ORD003',7,1,'1','2024-08-01 15:10:36',3,7),
('ORD003',11,1,'1','2024-08-01 15:10:36',3,7),
('ORD004',9,1,'1','2024-08-01 20:15:17',4,8),
('ORD005',12,2,'1','2024-08-02 08:37:21',5,4),
('ORD005',33,2,'1','2024-08-02 08:37:21',5,4),
('ORD006',14,1,'1','2024-08-02 09:25:55',6,3),
('ORD006',16,2,'1','2024-08-02 09:25:55',6,3),
('ORD007',1,2,'1','2024-08-02 14:35:19',1,7),
('ORD008',17,2,'1','2024-08-03 17:17:51',7,8),
('ORD009',20,2,'1','2024-08-05 10:23:33',8,3),
('ORD009',25,2,'1','2024-08-05 10:23:33',8,3),
('ORD010',8,3,'1','2024-08-05 14:28:07',9,7),
('ORD010',10,2,'1','2024-08-05 14:28:07',9,7),
('ORD010',26,5,'1','2024-08-05 14:28:07',9,7),
('ORD011',13,3,'0','2024-08-05 18:32:56 ',10,8),
('ORD012',17,1,'1','2024-08-06 16:52:12',11,8),
('ORD012',15,3,'1','2024-08-06 16:52:12',11,8),
('ORD012',31,4,'1','2024-08-06 16:52:12',11,8),
('ORD013',3,1,'0','2024-08-07 06:30:57',12,3),
('ORD014',5,3,'1','2024-08-07 11:27:11',13,4),
('ORD014',7,2,'1','2024-08-07 11:27:11',13,4),
('ORD014',8,1,'1','2024-08-07 11:27:11',13,4),
('ORD014',23,6,'1','2024-08-07 11:27:11',13,4),
('ORD015',5,2,'1','2024-08-07 21:33:51',14,8),
('ORD015',2,2,'1','2024-08-07 21:33:51',14,8),
('ORD016',6,1,'1','2024-08-08 10:05:07',15,3),
('ORD016',12,2,'1','2024-08-08 10:05:07',15,3),
('ORD016',15,1,'1','2024-08-08 10:05:07',15,3),
('ORD016',6,1,'1','2024-08-08 10:05:07',15,3),
('ORD017',17,1,'1','2024-08-08 13:25:53', 16,3),
('ORD018',20,1,'1','2024-08-08 16:52:28',17,7),	
('ORD018',16,1,'1','2024-08-08 16:52:28',17,7),
('ORD018',27,2,'1','2024-08-08 16:52:28',17,7),
('ORD019',20,1,'0','2024-08-09 12:46:33',18,4),
('ORD020',13,1,'0','2024-08-09 16:26:13',3,8),
('ORD021',19,2,'1','2024-08-09 18:21:56',19,8),
('ORD022',3,4,'1','2024-08-09 19:51:25',20,7),
('ORD023',2,1,'1','2024-08-10 08:44:48',21,3),
('ORD023',5,3,'1','2024-08-10 08:44:48',21,3),	
('ORD023',34,4,'1','2024-08-10 08:44:48',21,3),
('ORD024',11,3,'1','2024-08-10 10:21:08',22,4),
('ORD024',31,3,'1','2024-08-10 10:21:08',22,4),
('ORD025',7,1,'1','2024-08-10 16:08:53',23,7),
('ORD025',8,2,'1','2024-08-10 16:08:53',23,7),
('ORD025',16,1,'1','2024-08-10 16:08:53',23,7),
('ORD026',17,1,'0','2024-08-10 16:10:15',24,8),	
('ORD026',4,2,'0','2024-08-10 16:10:15',24,8),	
('ORD027',13,3,'1','2024-08-10 17:27:42',25,7),	
('ORD027',15,2,'1','2024-08-10 17:27:42',25,7),
('ORD028',18,1,'1','2024-08-10 17:29:01',26,8),		
('ORD028',19,1,'1','2024-08-10 17:29:01',26,8),
('ORD028',23,2,'1','2024-08-10 17:29:01',26,8),
('ORD028',18,1,'1','2024-08-10 17:29:01',26,8),
('ORD029',1,1,'0','2024-08-10 17:30:21',27,8),
('ORD030',2,1,'0','2024-08-10 18:43:49',28,7),
('ORD030',5,1,'0','2024-08-10 18:43:49',28,7),
('ORD030',4,1,'0','2024-08-10 18:43:49',28,7),
('ORD030',30,3,'1','2024-08-10 18:43:49',28,7),
('ORD031',15,5,'1','2024-08-10 20:31:06',2,8),
('ORD031',11,3,'1','2024-08-10 20:31:06',2,8),
('ORD031',10,2,'1','2024-08-10 20:31:06',2,8),
('ORD031',20,1,'1','2024-08-10 20:31:06',2,8),
('ORD031',26,4,'1','2024-08-10 20:31:06',2,8),
('ORD031',28,5,'1','2024-08-10 20:31:06',2,8),
('ORD031',29,2,'1','2024-08-10 20:31:06',2,8),
('ORD032',7,1,'1','2024-08-10 21:11:39',29,7),
('ORD032',21,1,'1','2024-08-10 21:11:39',29,7),	
('ORD033',2,1,'1','2024-08-12 07:22:51',5,3),
('ORD034',5,2,'1','2024-08-12 08:26:30',3,4),
('ORD035',2,1,'1','2024-08-12 11:46:22',8,3),
('ORD035',21,1,'1','2024-08-12 11:46:22',8,3),
('ORD036',11,1,'1','2024-08-12 15:46:22',12,7),
('ORD037',20,2,'1','2024-08-12 18:30:37',17,8),
('ORD037',34,2,'1','2024-08-12 18:30:37',17,8),
('ORD038',2,2,'1','2024-08-13 07:56:44',30,4),
('ORD038',3,1,'1','2024-08-13 07:56:44',30,4),
('ORD039',8,3,'1','2024-08-13 10:42:19',12,4),
('ORD039',9,3,'1','2024-08-13 10:42:19',12,4),
('ORD039',27,6,'1','2024-08-13 10:42:19',12,4),
('ORD040',12,2,'1','2024-08-13 19:38:27',29,7),
('ORD041',10,1,'1','2024-08-14 10:06:39',15,3),
('ORD041',21,1,'1','2024-08-14 10:06:39',15,3),
('ORD042',5,1,'0','2024-08-14 14:21:48',18,7),
('ORD042',15,1,'0','2024-08-14 14:21:48',18,7),
('ORD043',1,2,'1','2024-08-14 18:17:09',2,8),
('ORD043',2,2,'1','2024-08-14 18:17:09',2,8),	
('ORD044',5,2,'1','2024-08-15 8:23:11',8,3),
('ORD044',7,1,'1','2024-08-15 8:23:11',8,3),
('ORD044',33,2,'1','2024-08-15 8:23:11',8,3),
('ORD044',31,1,'1','2024-08-15 8:23:11',8,3),
('ORD045',8,1,'1','2024-08-15 12:31:59',1,4),
('ORD046',13,2,'1','2024-08-15 13:10:33',6,3),
('ORD046',17,2,'1','2024-08-15 13:10:33',6,3),
('ORD047',9,1,'1','2024-08-15 15:44:02',25,7),
('ORD047',10,2,'1','2024-08-15 15:44:02',25,7),	
('ORD048',20,1,'1','2024-08-15 16:20:42',22,8),
('ORD048',25,1,'1','2024-08-15 16:20:42',22,8),
('ORD049',12,1,'1','2024-08-15 18:32:11',20,7),	
('ORD049',28,1,'1','2024-08-15 18:32:11',20,7),
('ORD050',13,2,'1','2024-08-15 20:02:52',5,8),	
('ORD050',29,2,'1','2024-08-15 20:02:52',5,8);

SELECT 
order_id,
prod_name,
prod_category,
prod_size,
prod_price,
quantity,
created_at,
address,
city,
state,
zipcode
FROM orders o LEFT JOIN products p ON o.prod_id = p.prod_id
			 LEFT JOIN addresses a ON a.cstm_id = o.cstm_id;



WITH stock as (
	SELECT 
	o.prod_id,
	prod_name,
	sku,
	r.ing_id,
	recipe_quantity as "Recipe Quantity",
	SUM(quantity) as "Order Quantity",
	ing_name,
	ing_quantity,
	ing_price
	FROM orders o LEFT JOIN products p ON o.prod_id = p.prod_id
				  LEFT JOIN recipes r ON r.recipe_id = p.sku
				  LEFT JOIN ingredients ig ON r.ing_id = ig.ing_id
	GROUP BY o.prod_id,prod_name, sku, prod_price, r.ing_id, recipe_quantity,ing_name, ing_quantity, ing_price
	ORDER BY o.prod_id
)SELECT 
prod_name,
ing_id,
ing_name,
ing_quantity,
ing_price,
"Recipe Quantity",
"Order Quantity",
"Recipe Quantity" * "Order Quantity" as "Total Order Quantity",
ing_price / ing_quantity as "Price per gram",
("Recipe Quantity" * "Order Quantity") * (ing_price / ing_quantity) as "Ingredient Cost"
FROM stock;

CREATE VIEW stock_view AS
	WITH stock as (
	SELECT 
	o.prod_id,
	prod_name,
	sku,
	prod_size,
	r.ing_id,
	recipe_quantity as "Recipe Quantity",
	SUM(quantity) as "Order Quantity",
	ing_name,
	ing_quantity,
	ing_price
	FROM orders o LEFT JOIN products p ON o.prod_id = p.prod_id
				  LEFT JOIN recipes r ON r.recipe_id = p.sku
				  LEFT JOIN ingredients ig ON r.ing_id = ig.ing_id
	GROUP BY o.prod_id,prod_name, sku,prod_size, prod_price, r.ing_id, recipe_quantity,ing_name, ing_quantity, ing_price
	ORDER BY o.prod_id
)SELECT 
prod_name,
ing_id,
ing_name,
sku,
prod_size,
ing_quantity,
ing_price,
"Recipe Quantity",
"Order Quantity",
"Recipe Quantity" * "Order Quantity" as "Total Order Quantity",
ing_price / ing_quantity as "Price per gram",
("Recipe Quantity" * "Order Quantity") * (ing_price / ing_quantity) as "Ingredient Cost"
FROM stock;
SELECT * FROM stock_view;

CREATE VIEW current_inventory_view AS
WITH order_quantity AS (
	SELECT ing_id, ing_name, SUM("Total Order Quantity") as "Total Order Quantity"
		FROM stock_view
		GROUP BY ing_id, ing_name
		ORDER BY ing_id	
) SELECT 
	oq.ing_name, 
	"Total Order Quantity", 
	ing_quantity,
	quantity, 
	ing_quantity * quantity as "Total Inventory Quantity",
	(ing_quantity * quantity) - "Total Order Quantity" as "Current Inventory"
	FROM order_quantity oq LEFT JOIN inventory iv ON oq.ing_id = iv.item_id
						   LEFT JOIN ingredients ig ON oq.ing_id = ig.ing_id;
SELECT * FROM current_inventory_view;


CREATE VIEW employees_cost_view AS
SELECT 
dates,
first_name,
last_name,
hourly_rate,
start_time,
end_time,
extract(hour from(end_time - start_time)) as "Hours per shift",
cast(extract(hour from (end_time - start_time)) as decimal(5,2)) * hourly_rate as "Daily Rate"
FROM schedule sc LEFT JOIN employees e on sc.empl_id = e.empl_id
				 LEFT JOIN shifts sh on sc.shift_id = sh.shift_id;

SELECT * FROM employees_cost_view;